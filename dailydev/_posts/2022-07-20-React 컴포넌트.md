---
layout: post
title: React 컴포넌트
description: >
  React 컴포넌트에 대해
hide_description: false
category: dailydev
---

- Table of Contents
{:toc}

리액트를 사용하여 애플리케이션의 인터페이스를 설계할 때 사용자가 볼 수 있는 요소는 여러 가지 컴포넌트로 구성되어 있다. 컴포넌트는 데이터가 주어졌을 때 이에 맞추어 UI를 만들어 주는 것은 물론 라이프 사이클 API를 이용하여 컴포넌트가 화면에서 나타날 때(마운트 될 때 - mount), 사라질 때(마운트 해제 될 때 - unmount), 변화가 일어날 때(업데이트할 때) 주어진 작업들을 처리할 수 있으며, 임의 메서드를 만들어 특별한 기능을 붙여 줄 수 있습니다.
이러한 리액트의 컴포넌트는 함수 컴포넌트, 클래스 컴포넌트가 있다.

![Full-width image](/assets/img/blog/life.PNG)
라이프 사이클 [출처](https://projects.wojtekmaj.pl/react-lifecycle-methods-diagram/)
{:.figure}

## 클래스 컴포넌트 함수 컴포넌트 차이
클래스 컴포넌트 함수 컴포넌트 차이점은 클래스 컴포넌트는 state 기능 및 라이프 사이클 기능을 사용할 수 있고 임의 메서드를 정의할 수 있습니다.
```javascript
import React from ‘react‘;
import ‘./App.css‘;

function App() {
  const name = ‘리액트‘;
  return <div className=“react“>{name}</div>;
}

export default App;
```
위 코드는 함수형 컴포넌트<br>
아래는 클래스 컴포넌트 이다.
```javascript
import React, { Component } from 'react';
 
class App extends Component {
  render() {
    const name = 'react';
    return <div className="react">{name}</div>;
  }
}
 
export default App;
```

![Full-width image](/assets/img/blog/functionclass.png)
보편적인 클래스 컴포넌트 함수 컴포넌트 차이 
{:.figure}

React v16.8이후로는 Hooks이 도입되어 함수 컴포넌트에서도 기능 및 라이프사이클, state 사용이 가능해져 더 이상 큰 의미가 없고 리액트 공식 메뉴얼에서도 함수 컨포넌트와 Hooks을 사용하도록 권장하고 있다.
하지만 클래스 컴포넌트가 사라지는 것은 아니고 클래스형 컴포넌트의 기능을 꼭 알아야할 기본기이다.

## ES6의 클래스 문법
ES6 이전에는 자바스크립트에 클래스(class)가 없다. 개념 자체는 있었지만, 
구현하려면 prototype이라는 문법을 사용하여 작업했다.<br>
ES6 이전 prototype
```javascript
function Dog(name) {
  this.name = name;
}
 
Dog.prototype.say = function() {
  console.log(this.name + ': 멍멍');
}
var dog = new Dog('검둥이');
dog.say(); // 검둥이: 멍멍
```
ES6 이후 class
```javascript
class Dog {
  constructor(name) { //constructor는 클래스의 인스턴스 
                      //객체를 생성하고 초기화 하는 매서드
     this.name = name;             
  }
  say() {
     console.log(this.name + ': 멍멍');
  }
}
 
const dog = new Dog('흰둥이');
dog.say(); // 흰둥이: 멍멍
```
생성자를 만드는 방식
```javascript
function Employee(name, age, height) {
    this.name = name;
    this.age = age;
    this.height = height;
    this.sayHi = function () {
        console.log(
        `사원의 이름은 ${name}이고 나이는 ${age} 이며, 키는 ${height}입니다.`
        );
    };
}
```
아래처럼 여러개의 비슷한 객체를 생성할 수 있게 도와주는 유용한 도구
```javascript
let emp1 = new Employee("응원하는튜브", "40", "170");
let emp1 = new Employee("리액트뿌셔", "40", "170");
let emp1 = new Employee("런티에프", "20", "190");
let emp2 = new Employee("네카라쿠배아", "20", "190");
```

## 컴포넌트 생성
src 디렉터리에 MyComponent.js 파일을 생성하고 다음 코드로 함수형 컴포넌트를 작성해보자
```javascript
import React from 'react';
 
const MyComponent = () => {
  return <div>나의 새롭고 멋진 컴포넌트</div>;
};
 
export default MyComponent;

```
() => {}를 사용하여 함수를 만들어 주었다. 이는 ES6에 도입된 람다표현식(화살표 함수 문법)이다.
람다표현식은  함수를 파라미터로 전달할 때 유용합니다.
일반 함수는 자신이 종속된 객체를 this로 가리키며, 람다표현식 함수는 자신이 종속된 인스턴스를 가리킵니다. 람다표현식 함수는 간결성, 익명성, 전달(함수를 인수로 전달이나 변수로 저장)의 특징을 가지고 있습니다. 람다표현식은 ()파라미터부분 =>(파라미터와 바디를 구분) {}(람다바디부분) 람다는 바디부분은 return 이 함축되어있으며 따라서 {}을 따로 열어 주지 않았다면 연산한 값을 그대로 반환합니다.

## 모듈 내보내기 (export) 및 불러오기 (import)
```javascript
...
export default MyComponent;
```
작성한 MyComponent.js의 위 구문이 export 구문이다 화살표 함수로 작성한 컴포넌트 이기 때문에 마지막줄에 export default키워드를 사용하였다.
default 키워드가 추가된 변수, 함수, 클래스는 중괄호 {} 없이 식별할 수 있습니다. 다음 코드를 App.js에 다음과 같이 작성해보자.
```javascript
import React from 'react';
import MyComponent from './MyComponent';
 
const App = () => {
  return <MyComponent />;
};
 
export default App;
```
위 코드에서 두 번째 줄은 만든 MyComponent 컴포넌트를 불러오는 import구문이다.

## props
props는 properties를 줄인 표현으로 컴포넌트 속성을 설정할 때 사용하는 요소입니다. props 값은 해당 컴포넌트를 불러와 사용하는 부모 컴포넌트(현 상황에서는 App 컴포넌트가 부모 컴포넌트입니다)에서 설정할 수 있습니다.
즉 컴포넌트에 어떠한 값을 전달해줘야 할때 사용합니다.
<br>MyComponent.js 컴포넌트를 수정하여 해당 컴포넌트에서 name이라는 
props를 렌더링하도록 설정해보자

```javascript
import React from ‘react‘;

const MyComponent = props => {
return <div>안녕하세요, 제 이름은 {props.name}입니다.</div>;
};

export default MyComponent;
```
이제 컴포넌트를 사용할 때 props값을 지정해주면 된다. App.js의 코드

```javascript
import React from 'react';
import MyComponent from './MyComponent';
 
const App = () => {
  return <MyComponent name="React" />;
};
 
export default App;
```
![Full-width image](/assets/img/blog/props.PNG)
<br>결과화면
{:.figure}

defaultprops 설정하기 다음코드를 MyComponent.js 추가하면 된다.

```javascript
MyComponent.defaultProps = {
  name: '기본 이름'
};
```

컴포넌트 태그 사이의 내용을 보여 주는 props 가 children이다.
예시 코드 App.js
```javascript
import React from 'react';
import MyComponent from './MyComponent';
 
const App = () => {
  return <MyComponent>리액트</MyComponent>;
};
 
export default App;
```
MyComponent.js 
```javascript
import React from 'react';
 
const MyComponent = props => {
  return (
    <div>
      안녕하세요, 제 이름은 {props.name}입니다. <br />
      children 값은 {props.children}
      입니다.
    </div>
  );
};
 
MyComponent.defaultProps = {
  name: '기본 이름'
};
 
export default MyComponent;
```

![Full-width image](/assets/img/blog/children.png)
결과화면
{:.figure}

구조 분해 할당 구문은 배열이나 객체의 속성을 해체하여 그 값을 개별 변수에 담을 수 있게 하는 표현식이다.
```javascript
const object = { a: 1 };

function print({ a, b }) {
  console.log(a);
  console.log(b);
}

print(object);
```
이 처럼 함수의 파라미터에서도 비구조화 할당을 할 수 있다. 이를 MyComponent.js에 적용하면 다음과 같다
```javascript
import React from 'react';
 
const MyComponent = ({name, children}) => {
  return (
    <div>
      안녕하세요, 제 이름은 {name}입니다. <br />
      children 값은 {children}
      입니다.
    </div>
  );
};
 
MyComponent.defaultProps = {
  name: '기본 이름'
};
 
export default MyComponent;
```

## propTypes
컴포넌트의 필수 props 지정이나 props의 타입을 지정할 때 사용하는 것이 바로 propTypes이다. propTypes를 사용하기 위해선 import를 해주어야 한다.
```javascript
import React from 'react';
import PropTypes from 'prop-types';

const MyComponent = ({name, children}) => {
  return (
    <div>
      안녕하세요, 제 이름은 {name}입니다. <br />
      children 값은 {children}
      입니다.
    </div>
  );
};
 
MyComponent.defaultProps = {
  name: '기본 이름'
};

MyComponent.propTypes = {
  name: PropTypes.string
};
 
export default MyComponent;
```
다음과 같이 작성하면 name값은 문자열 형태로 전달해야 된다는 것이다.
<br>isRequired를 사용하면 필수 props를 설정할 수 있다.

```javascript
MyComponent.propTypes = {
  name: PropTypes.string,
  propsname: PropTypes.number.isRequired
};
```
propTypes 종류

<li>array: 배열</li>
<li>arrayOf(다른 PropType): 특정 PropType으로 이루어진 배열을 의미 예를 들어 arrayOf(PropTypes.number)는 숫자로 이루어진 배열</li>
<li>bool: true 혹은 false 값</li>
<li>func: 함수</li>
<li>number: 숫자/li>
<li>object: 객체</li>
<li>string: 문자열</li>
<li>symbol: ES6의 Symbol</li>
<li>node: 렌더링할 수 있는 모든 것(숫자, 문자열, 혹은 JSX 코드. children도 node PropType입니다.)</li>
<li>instanceOf(클래스): 특정 클래스의 인스턴스(예: instanceOf(MyClass))</li>
<li>oneOf(['dog', 'cat']): 주어진 배열 요소 중 값 하나</li>
<li>oneOfType([React.PropTypes.string, PropTypes.number]): 주어진 배열 안의 종류 중 하나</li>
<li>objectOf(React.PropTypes.number): 객체의 모든 키 값이 인자로 주어진 PropType인 객체</li>
<li>shape({ name: PropTypes.string, num: PropTypes.number }): 주어진 스키마를 가진 객체</li>
<li> any: 아무 종류</li>



## 참고 문헌

[리액트를 다루는 기술](http://www.kyobobook.co.kr/product/detailViewKor.laf?mallGb=KOR&ejkGb=KOR&linkClass=&barcode=9791160508796)
