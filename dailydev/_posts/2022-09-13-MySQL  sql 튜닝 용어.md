---
layout: post
title: MySQL SQL 튜닝용어
description: >
  2022-09-13-MySQL SQL 튜닝용어
hide_description: false
category: dailydev
---

## DB 엔진 용어
__스토리지 엔진__<br>
스토리지 엔진은 사용자가 요청한 SQL 문을 토대로 DB에 저장된 디스크나 메모리에서 필요한 데이터를 가져오는 역활을 수행한다.
이후 해당 데이터를 MySQL 엔진으로 보내준다. 스토리지 엔진이 데이터를 저장하는 방식에 따라 온라인상의 트랜잭션 발생으로 데이터를 처리하는 OLTP환경에서는 InnoDB 엔진, 대량의 쓰기 트랜잭션이 발생하면 MyISAM엔진, 메모리 데이터를 로드하여 빠르게 읽는 효과를 내려면 Memory 엔진을 사용한다.<br>

__MySQL 엔진__<br>
SQL문의 시작 및 마무리 단계에 관여하며 스토리제 엔진으로부터 필요한 데이터만을 가져오는 역활을 하며, 사용자가 요청한 SQL문을 넘겨 받아 SQL문법 검사 적잘한 오브젝트 활용 검사를 하고, SQL문을 최소 단위로 분리하여 원하는 데이터를 빠르게 찾는 경로를 모색하는 역활을 수행한다.

## SQL 프로세스 용어
- 사용자가 SQL문을 수행하면 __파서__ 는 MySQL이 이해할수 있는 최소 단위로 구성요소를 분리하고 트리로 만든다. 
- 이후 __전처리기__ 는 생성된 트리 결과를 토대로, 이미 만들어진 테이블이나 뷰 등으로 구성되지는 않는지, 존재하지 않는 열을 포함하지는 않는지, 조회 권한이 없는 테이블을 조회하는지 등 유효성을 검증한다. 
- 이후 __옵티마이저__ 는 트리를 구성하는 오브젝트의 데이터를 효율적으로 가져오기 위해 시간은 적게 소요되면서 비용 효율적인 경로로 데이터를 검색하는 방법에 관한 실행 계획을 수립한다. 
- __엔진 실행기__ 는 이전에 수립된 실행 계획으로 스토리지 엔진을 호출해 필요한 데이터를 가져온다. 이후 엔진 실행기는 가져온 데이터 중 불필요한 데이터를 필러링하여 원하는 결과를 전달 한다.

## 파서
파서는 MySQL 엔진에 포함되는 오브젝트로, 사용자가 요청한 SQL문을 쪼개 최소 단위로 분리하고 트리를 만든다. 트리를 만들면서 문법 검사를 수행한다.

## 전처리기 
전처리기는 MySQL 엔진에 해당하는 오브젝트로 파서에서 생성한 트리를 토대로 SQL문에 구조적인 문제가 없는지 파악한다. SQL문에 작성된 오브젝트가 생성된 오브젝트인지, 접근 권한 확인하는 역활을 한다.

## 옵티마이저 
옵티마이저는 MySQL의 핵심 엔진 중 하나로, 전달된 파서 트리를 토대로 필요하지 않은 조건은 제거하거나 연산과정을 단순화한다. 또한 실행 계획을 수립한다. 단 모든 실행 계획을 판단하지않기 때문에 최상의 실행 계획이 아닐수도 있기 때문에 적절히 다루는 개발자의 손길이 필요하다.

## 엔진 실행기
엔진 실행기는 MySQL 엔진과 스토리지 엔진 영역에 모두에 걸치는 오브젝트다. 옵티마이저에서 수립한 실행 계획을 참고하여 스토리지 엔진에서 데이터를 가져온다. 이후 데이터 정렬, 조인, 불필요한 데이터는 필터링 처리하는 추가 작업을 한다. 따라서 MySQL 엔진의 부하를 줄이려면 스토리지 엔진에서 가져오는 데이터양을 줄이는 게 매우 중요하다.

## 참고 문헌

[업무에 바로 쓰는 SQL 튜닝](http://www.yes24.com/Product/Goods/102382080)