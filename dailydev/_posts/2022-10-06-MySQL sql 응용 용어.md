---
layout: post
title: MySQL SQL 튜닝용어(4)
description: >
  2022-10-03-MySQL SQL 튜닝용어(4)
hide_description: false
category: dailydev
---

- Table of Contents
{:toc}

## 디스크 접근 방식
MySQL은 원하는 데이터를 찾으려고 데이터가 저장된 스토리지의 페이지에 접근한다. 페이지는 데이터를 검색하는 최소단위이다. 
서로 연결된 페이지를 차례대로 읽으면 __시퀀셜 액세스__
원하는 페이지를 임의로 열어보면서 데이터를 읽으면 __랜덤 액세스__ 이다.

## 디스크 접근 방식 -시퀀셜 액세스
시퀀셜 액세스 (sequential access)는 물리적으로 인접한 페이지를 순차 접근 하는 방식으로 보통 테이블 풀 스캔에서 활용한다.
디스크 헤더의 움직임을 최소화하여 작업시간과 리소스 점유 비용을 줄일 수 있다. 테이블 풀 스캔일 때는 다중 페이지 읽기 방식으로 수행한다.

## 디스크 접근 방식 -랜덤 액세스 
랜덤 액세스 (random access)는 물리적으로 떨어진 페이지들에 임의로 접근하는 임의 접근 방식이다. 디스크의 물리적인 움직임이 필요하고 데이터의 접근 수행시간이 오래 걸린다. 따라서 최소한의 페이지에 접근할 수 있도록 접근 범위를 줄이고 효율적인 인덱스를 활용할 수 있도록 튜닝해야 한다.

![650x400](/assets/img/blog/Accesso.png)
<br>  액세스 개념도
{:.figure}

## 조건 유형 
SQL문의 WHERE 절 조건문 기준으로 데이터가 저장된 디스크에 접근하게 된다. 조건문으로 데이터를 가져오고 가져온 데이터에서 다시 한번 출력할 데이터만 추출한다. 이때 맨 처음 디스크에서 데이터를 검색하는 조건을 __액세스 조건__ 이라 하거 가져온 데이터에서 추출, 가공, 연산하는 조건을 __필터 조건__ 이라고 한다.

## 조건 유형 -액세스 조건
액세스 조건은 SQL 튜닝에서 가장 중요한 핵심이다. WHERE 절 조건문으로 필요한 데이터만 골라 가져오는 방식은 테이블에 직접 접근할지 인덱스를 어떻게 활용할 것인지에 관한 문제이기 때문이다. 옵티마이저는 WHERE 절의 특정 조건문을 이용해 소량의 데이터를 가져오고, 인덱스를 통해 시간낭비를 줄이는 조건절을 선택하여 스토리지 엔진의 데이터에 접근하고 MySQL엔진으로 데이터를 가져온다.

## 조건 유형 -필터 조건
필터 조건은 액세스 조건을 이용해 MySQL 엔진으로 가져온 데이터를 기준으로, 추가로 불필요한 데이터를 제거하거나 가공하는 조건이다.
필터 조건에 따라 필터링할 데이터가 없다면 매우 훌륭한 SQL문이고, 필터 조건으로 필터링되어 제거된 데이터가 다수 존재한다면 상대적으로 비효율적인 SQL문이다. 그 이유는 스토리지 엔진에서 MySQL엔진으로 데이터를 전달하는 오버헤드가 있으며 필터 조건으로 제거될 데이터라면 스토리지 엔진의 데이터에 접근하는 과정에서 같이 제외되는 편이 성능적으로 효율적이기 때문이다.


## 참고 문헌

[업무에 바로 쓰는 SQL 튜닝](http://www.yes24.com/Product/Goods/102382080)