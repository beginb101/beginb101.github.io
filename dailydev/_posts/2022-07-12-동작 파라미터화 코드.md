---
layout: post
title: JAVA 동작 파라미터화 코드
description: >
  JAVA  동작 파라미터화 코드 전달하기
hide_description: false
category: dailydev
---


- Table of Contents
{:toc .large-only}

항상 바뀌는 요구사항은 개발자는 피할 수 없는 문제이다. 시시각각 변하는 요구사항을 위해 기능을 추가하고 만들어진 요구사항을 고도화 하기도 한다. 회사는 비용을 최소화를 위해 쉽게 구현할 수 있고 장기적인 관점에서 유지보수가 용이 해야한다. 동작 파라미터화를 이용하면 자주 바뀌는 요구사항에 효과적으로 대응 할 수 있다.

## 동작 파라미터화(behavior parameterization)
동작 파라미터화란 아직 어떻게 실행할 것인지 결정하지 않은 코드 블록을 의미한다.
이 코드블록은 나중에 실행될 메서드의 신수로 전달할 수 있다.
즉 코드블록에 따라 메서드의 동작이 파라미터화 된다는 것이다.
<li>리스트의 모든 요소에 대해서 '어떤 동작'을 수행할 수 있음</li>
<li>리스트 관련 작업을 끝낸 다음에 '어떤 다른 동작'을 수행할 수 있음</li>
<li>에러가 발생하면 '정해진 어떤 다른 동작'을 수행할 수 있음</li>
컬렉션을 처리할 때 이와과 같은  메서드를 구현한다면 동작 파라미터화로 이 다양한 기능을 수행할 수 있다.

## 변화하는 요구사항에 대응하기
다음은 기존 농장재고목록 애플리케이션에 녹색사과만 필터링하는 기능을 추가하는 코드이다
<br>사과 색을 정의하는 Color num이 존재한다고 가정한다.
```java
public static List<Apple> filterGreenApples(List<Apple> inventory){
  List<Apple> result = new ArrayList<>(); // 필터링한 사과를 누적 할 리스트
  for (Apple apple: inventory){
    if(GREEN.equals(apple.getColor()){ //녹색 사과만 선택
      result.add(apple);
    }
  }
  return result;
}
```

위 코드에서 농부가 변심하여 빨간사과도 필터링 하고 싶어졌다면 어떻게 고쳐야 할까?
대부분의 사람들은 메서드를 복사해서 빨간사과를 필터링하는 새로운 메서드를 만들고 조건문을 빨간사과로 바꿀것이다.
허나 이후 농부가 옅은 녹색 진한빨강 노란색 등 다양한 요구를 한다면 매번 메서드를 만들고 조건문을 바꿔야 한다.
비슷한 코드가 반복된다면 그 코드를 추상화 해서 코드 재사용성을 높여야한다!!
그렇다면 어떻게 코드를 추상화할 수 있을까 바로 이때 파라미터화할 수 있도록 메서드에 파라미터를 추가하는 것이다.

```java
public static List<Apple> filterApplesByColor(List<Apple> inventory, Color color){
  List<Apple> result = new ArrayList<>(); 
  for (Apple apple: inventory){
    if(apple.getColor().equals(color)){ 
      result.add(apple);
    }
  }
  return result;
}
```

```java
List<Apple> greenApples = filterApplesByColor(inventory, GREEN);
List<Apple> redApples = filterApplesByColor(inventory, GREEN);
```
위코드 처럼 쉽고 간단하게 만들고 간단히 호출하여 사용할 수 있다.
만약 농부가 무게가 150그램 이상인 사과를 필터링 하고 싶다면 어떻게 해야할까?

```java
public static List<Apple> filterApplesByWeight(List<Apple> inventory, int weight){
  List<Apple> result = new ArrayList<>(); 
  for (Apple apple: inventory){
    if(apple.getWeight() > weight ){ 
      result.add(apple);
    }
  }
  return result;
}
```
위 코드 처럼 해결할 수 있지만 우리는 여기서 색필터링 코드와 대부분 중복된다는 점을 알아야한다.
따라서 같은것을 반복하지 말것 이라는 개발원칙을 어기는 것이다. 그렇다면 어떻게 해야할까?
어떤 것을 기준으로 필터링할지 가리키는 플래그를 추가할까? 이 방법은 절대로 해선 안된다.
그럼 어떻게 해야 할까? 바로 선택 조건을 결정하는 프레디케이트 인터페이스를 정의해야 한다.


## 참고 문헌
[모던 자바 인 액션](https://www.aladin.co.kr/shop/wproduct.aspx?ItemId=200069290)
```